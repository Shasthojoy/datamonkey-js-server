ExecuteAFile("../Shared/HyPhyGlobals.ibf");ExecuteAFile("../Shared/GrabBag.bf");ExecuteAFile("../Shared/ReadDelimitedFiles.bf");ExecuteAFile	("../Shared/TreeTools.ibf");fscanf		(stdin,"String", fileName);fscanf		(stdin,"Number", genCodeID);fileSplit   = splitFilePath(fileName);filePrefix  = fileSplit["FILENAME"] + "." + fileSplit["EXTENSION"]; /* ________________________________________________________________________________________________*/function ErrorOut (errString){	fprintf (stdout, "ERROR:<DIV class = 'ErrorTagSM'>\n", errString, "\n</DIV>");	return 0;}/* ________________________________________________________________________________________________*/DataSet ds 				   = ReadDataFile (fileName);psOutFile				   = BASE_OUTPUT_PATH + filePrefix + ".ps";newickOutFile			   = BASE_OUTPUT_PATH + filePrefix + ".nwk";if (ds.species>0){	_pCount = Max(1,Columns(DATA_FILE_PARTITION_MATRIX));	skipCoverageTest = 1;	ExecuteAFile ("../Shared/PartitionReader.ibf");		fprintf  	(psOutFile,     CLEAR_FILE);	fprintf  	(newickOutFile, CLEAR_FILE);		for (_pID = 0; _pID < _pCount; _pID = _pID + 1)	{		DataSetFilter filteredData = CreateFilter (ds,1,mySplits[_pID]);		treeString 		= myTrees[_pID];		Tree 	   t 	= treeString;		bl = (BranchLength (t,-1))["_MATRIX_ELEMENT_VALUE_<0"];		if ((bl*(Transpose(bl))["1"])[0] > 0)		{			psString   = PSTreeString (t,"",{{((Log(ds.species)+0.5)$1+5)*50,ds.species*20}});				}		else		{			psString   = PSTreeString (t,"STRING_SUPPLIED_LENGTHS",{{((Log(ds.species)+0.5)$1+5)*50,ds.species*20}});		}		if (_pID > 0)		{			fprintf  	(psOutFile, "\n",psString);			fprintf  	(newickOutFile,"\n",treeString);		}		else		{			fprintf  	(psOutFile, psString);			fprintf  	(newickOutFile,treeString);		}	}	fprintf (stdout, "<H1 Class='SuccessCap'>Analysis Options</H1>",_makeJobIDHTML(filePrefix),					  "<DIV Class='RepClassSM'>Trees included in alignment file. View as <a href='",BASE_HTML_URL_STRING,filePrefix,".pdf' target='_blank'>[PDF]</a>",					  " or <a href='",BASE_HTML_URL_STRING,filePrefix,".nwk' target='_blank'>[Newick]</a></DIV>");	ExecuteAFile ( "../Formats/propagate");	ExecuteAFile ( "../Shared/ExportTrees.bf");}else{	ErrorOut ("Internal Error: could not open uploaded data file. Perhaps your session has expired.");}